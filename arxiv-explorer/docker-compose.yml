services:
  shesha-web:
    build:
      context: ..
      dockerfile: arxiv-explorer/Dockerfile
    ports:
      - "8000:8000"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - shesha-data:/data
    environment:
      - SHESHA_API_KEY=${SHESHA_API_KEY:?Set SHESHA_API_KEY before running (see README.md)}
      - SHESHA_MODEL=${SHESHA_MODEL:?Set SHESHA_MODEL before running (see README.md)}

volumes:
  shesha-data:
